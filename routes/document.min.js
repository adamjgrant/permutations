var express=require("express"),router=express.Router();const fs=require("fs");router.post("/:document_id",function(e,r,o){const n=e.params.document_id,t=e.body;fs.writeFile(`documents/${n}.json`,t,function(e){if(e)return console.log(e);r.send(`Saved ${t} as ${n}.json`)})}),router.get("/:document_id/raw",function(e,r,o){const n=require("json-beautify"),t=e.params.document_id;fs.readFile(`documents/${t}.json`,"utf8",(e,o)=>{if(e)return void console.error(e);const t=n(JSON.parse(o),null,2,1);r.send(t)})}),router.get("/:document_id",function(e,r,o){const n=require("json-beautify"),t=e.params.document_id;fs.readFile(`documents/${t}.json`,"utf8",(e,o)=>{if(e)return void console.error(e);r.setHeader("Content-Type","application/json");try{const e=n(JSON.parse(o),null,2,1);r.send(e)}catch(e){r.send(o)}})}),module.exports=router;