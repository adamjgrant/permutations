class PermyScript{constructor(t){this.string=t,this.tree_object={main:[]},this.last_unique_branch_name="0"}get unique_branch_name(){return this.last_unique_branch_name=String(parseInt(this.last_unique_branch_name)+1),this.last_unique_branch_name}get extract_to_parens(){return this.tree_object.main=this.string.replace(/(\(.*\))/,(t,n)=>{const e=this.unique_branch_name;return this.tree_object[e]=new PermyScriptParens(n).branch,JSON.stringify({branch:e})}),this.tree_object.main}get compile(){this.extract_to_parens}}class PermyScriptParens{constructor(t){this.string=t.replace(/[()]/g,"")}get branch(){return console.log(this.string),this.string.split("|")}}module.exports=PermyScript;